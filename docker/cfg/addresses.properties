# General information about the api
# Not required, dummy values provided by the service
api.title=INSPIRE Simple Addresses, Finland
api.version=0.1
api.description=Example implementation of OGC API Services with hakunapi. INSPIRE Simple Addresses from Finland. Data from 13.02.2023 https://www.avoindata.fi/data/fi/dataset/rakennusten-osoitetiedot-koko-suomi by Finnish Digital and Population Data services Agency.
#api.contact.name=Name of Contact
#api.contact.email=concat@email.com
#api.contact.url=https://github.com/nlsfi/hakunapi
api.license.name=Data accessed from the API is licensed by the Digital and Population Data Services Agency CC BY 4.0 licence.
api.license.url=https://creativecommons.org/licenses/by/4.0/

# List of servers 
## Required, comma-separated list of server the API is
servers=dev
## The url of the server has to be correct as it is used for all links generated by the server
servers.dev.url=http://localhost:8080/features
servers.dev.description=Development server

# API level configuration
formats=geojson,html,gpkg
formats.geojson.type=json
# force lon,lat axisOrder on GeoJSON output even if output CRS is lat,lon by authority
# formats.geojson.forceLonLat=true
formats.html.type=html
formats.gpkg.type=gpkg
formats.gpkg.dir=/app/features_addresses/tmp
getfeatures.limit.default=10
getfeatures.limit.max=10000

# Configure known srids (hakunapi will always add 84 (lon, lat) and 4326 (lat, lon))
srid=3067,4258
# Let hakunapi know that EPSG:4258 is lat,lon order
srid.4258.latLon=true

# Collections and their configurations

## Required, comma-separated list of all collections
collections=addresses

collections.addresses.title=Simple Addresses
collections.addresses.description=Addresses of Finlands Buildings

## Select a strategy for case-insensitive comparisons
## Valid values can be found from CaseInsensitiveStrategy enum (default value is `lower`)
## If we indexed an expression `upper(thoroughfare_name)` then it would make sense to configure this to `upper`
collections.addresses.casei=lower

## Should properties with null values be omitted from the response
collections.addresses.writeNulls=true

## PostgreSQL/PostGIS configuration 
### This collection is backed by 'pg' (PostgreSQL/PostGIS) source/driver 
collections.addresses.type=pg
### Name of {db}.properties
collections.addresses.db=db
collections.addresses.schema=public
collections.addresses.table=simple_addresses

### Spatial extent of the collection, required by some clients to recognize the colletion as a spatial feature collection
collections.addresses.extent.spatial.crs84=15.0537852,58.6074565,33.9935374,70.2641566

### Supported Coordinate Reference Systems (CRS:84 is always and automatically included)
collections.addresses.srid=3067,4258


### Required, mapping for primary id property
collections.addresses.id.mapping=id

### Mapping for primary geometry property
collections.addresses.geometry.mapping=geom

### List of all (other) properties 
collections.addresses.properties=inspireId_localId,inspireId_namespace,component_ThoroughfareName,component_PostalDescriptor,component_AdminUnitName_1,component_AdminUnitName_4,locator_designator_addressNumber,locator_level,locator_level_href,position_specification,position_specification_href,position_method,position_method_href,position_default,building,parcel

### property is mapped to a static value instead of column reference if mapping is single-quoted
collections.addresses.properties.inspireId_localId.mapping=id
collections.addresses.properties.inspireId_namespace.mapping='https://github.com/INSPIRE-MIF/2017.2/GeoJSON/ads/examples/'

collections.addresses.properties.component_ThoroughfareName.mapping=thoroughfare_name
collections.addresses.properties.component_PostalDescriptor.mapping=postal_descriptor
collections.addresses.properties.component_AdminUnitName_1.mapping='Suomi'
collections.addresses.properties.component_AdminUnitName_4.mapping=admin_unit_name_4

collections.addresses.properties.locator_designator_addressNumber.mapping=address_number
collections.addresses.properties.locator_level.mapping='siteLevel'
collections.addresses.properties.locator_level_href.mapping='https://inspire.ec.europa.eu/codelist/LocatorLevelValue/siteLevel'

collections.addresses.properties.position_specification.mapping='building'
collections.addresses.properties.position_specification_href.mapping='https://inspire.ec.europa.eu/codelist/GeometrySpecificationValue/building'
collections.addresses.properties.position_method.mapping='byOtherParty'
collections.addresses.properties.position_method_href.mapping='https://inspire.ec.europa.eu/codelist/GeometryMethodValue/byOtherParty'
collections.addresses.properties.position_default.mapping='true'

### If the name of the property matches the name of the backing column no mapping is required
### collections.addresses.properties.building.mapping=building
### collections.addresses.properties.parcel.mapping=parcel

## Queryables
collections.addresses.parameters=inspireId_localId,component_ThoroughfareName,component_PostalDescriptor,component_AdminUnitName_4,locator_designator_addressNumber,building,parcel

